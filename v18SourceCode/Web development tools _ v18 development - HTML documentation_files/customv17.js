/*! $Id: customv17.source.js,v 1.8 2015/03/30 20:50:42 santelia Exp $ */
;var webdev=(function(){function b(){dojo.query("a#wdw3Logout").onclick(function(j){dojo.stopEvent(j);dojo.cookie("uhk","",{expire:-1,path:"/"});dojo.cookie("w3ibmProfile","",{expire:-1,path:"/",domain:".ibm.com"});window.location.reload()})}function c(){dojo.query("p#setPrefLink a").onclick(function(j){dojo.stopEvent(j);ibmweb.overlay.show("persSetPrefs",this)})}function i(){dojo.query("a#newsletterSubscribe, a#newsletterUnsubscribe").onclick(function(j){dojo.stopEvent(j);var k=this.id=="newsletterSubscribe"?1:0;dojo.io.script.get({url:"/inc/update_newsletter.php?su="+k,jsonp:"callback",load:function(l){dojo.query("#subscriptionMsg").html(l.message).showBlock();dojo.query("p#subscriptionLink").html(l.link)}})})}function g(){dojo.io.script.get({url:"http://w3.ibm.com/w3restsvc/mktreport/quote/detail/6127839ee7627460c4189e36fc6b1b01/json/symbol/IBM/callback/webdev.processStockInfo"})}function e(l){window.stockChangePrice=l.stockQuotes[0].changeDols;var k=-(parseFloat(l.stockQuotes[0].changeDols)*10),m=l.stockQuotes[0].changeDols<0?"-down":l.stockQuotes[0].changeDols>0?"-up":"",j=ibmweb.info.isIE==true?"-ie":"";dojo.place('<div id="webdev-stockinfo"><p>IBM: '+l.stockQuotes[0].price+' <img src="/img/stockarrow'+m+j+'.png" width="15" height="11" alt="Change: '+l.stockQuotes[0].changeDols+'" title="Change: '+l.stockQuotes[0].changeDols+'" /></p></div>',"ibm-leadspace-body","last");dojo.style(dojo.query("#webdev-stockinfo img")[0],{transform:"rotate("+k+"deg)","-webkit-transform":"rotate("+k+"deg)"})}function h(){dojo.query("input[name='siteSkinPref']").onchange(function(){dojo.io.script.get({url:"/api/updateuserskin/"+this.value+"/",jsonp:"callback",load:function(j){window.location.reload()}})})}function a(){dojo.query("form#fbForm").onsubmit(function(j){dojo.stopEvent(j);if(dojo.query("textarea#fbFormComment").val()==""){alert("Umm, I think you forgot something...");return false}dojo.io.script.get({url:"/inc/feedback_submit.php?ibm-submit=Submit&username="+dojo.query("input#username").val()+"&comment="+dojo.query("textarea#fbFormComment").val(),jsonp:"callback",load:function(k){dojo.query("div#fbFormMsg").html(k.msg);dojo.query("div#fbFormMsg").showBlock();dojo.query("form#fbForm").hide()}})})}function f(){dojo.query("a#fbFormLink").onclick(function(j){dojo.stopEvent(j);dojo.query("textarea#fbFormComment").val("");dojo.query("div#fbFormMsg").hide();dojo.query("form#fbForm").showBlock();ibmweb.overlay.show("fbFormCon")})}function d(){dojo.query("form#bpAuthForm").onsubmit(function(j){dojo.stopEvent(j);var k=0;dojo.query("#bpAuthForm .required").forEach(function(l){if(dojo.query(l).val()==""){k++}});if(k>0){alert("Woops, you're missing data for "+k+" required fields");return false}jsonpArgs={url:"https://webdev.bluehost.ibm.com/api/bpauthenticate/"+dojo.query("input[name='bpAuthUserId']").val()+"/"+dojo.query("input[name='bpAuthUserPass']").val()+"/",callbackParamName:"callback",load:function(l){if(l.responseCode==0){window.location.reload()}else{dojo.query("#bpAuthStatusMsg").html("<p style='color: #ff0000;'>"+l.responseMsg+"</p>")}}};dojo.io.script.get(jsonpArgs)})}g();dojo.ready(function(){d();b();c();i();h();a();f()});return{processStockInfo:e,status:"loaded"}})();dojo.isHidden=function(a){return dojo.query(a).style("display")=="none"};dojo.loadCss=function(a){var b=document.createElement("link");b.href=a;b.rel="stylesheet";b.type="text/css";document.getElementsByTagName("head")[0].appendChild(b)};hide=function(a){dojo.style(a,"display","none")};dojo.NodeList.prototype.hide=dojo.NodeList._adaptAsForEach(hide);showBlock=function(a){dojo.style(a,"display","block")};dojo.NodeList.prototype.showBlock=dojo.NodeList._adaptAsForEach(showBlock);showInline=function(a){dojo.style(a,"display","inline")};dojo.NodeList.prototype.showInline=dojo.NodeList._adaptAsForEach(showInline);